(window.webpackJsonp=window.webpackJsonp||[]).push([[122,545],{10:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(a){"object"===typeof window&&(n=window)}e.exports=n},13:function(e,t,n){var a=n(5),i=n(14),o=n(16),r=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,h,u,d,p,f=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,a=c;return l=c=void 0,f=t,u=e.apply(a,n)}function b(e){return f=e,d=setTimeout(x,t),m?y(e):u}function w(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-f>=h}function x(){var e=i();if(w(e))return E(e);d=setTimeout(x,function(e){var n=t-(e-p);return v?s(n,h-(e-f)):n}(e))}function E(e){return d=void 0,g&&l?y(e):(l=c=void 0,u)}function M(){var e=i(),n=w(e);if(l=arguments,c=this,p=e,n){if(void 0===d)return b(p);if(v)return clearTimeout(d),d=setTimeout(x,t),y(p)}return void 0===d&&(d=setTimeout(x,t)),u}return t=o(t)||0,a(n)&&(m=!!n.leading,h=(v="maxWait"in n)?r(o(n.maxWait)||0,t):h,g="trailing"in n?!!n.trailing:g),M.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=c=d=void 0},M.flush=function(){return void 0===d?u:E(i())},M}},14:function(e,t,n){var a=n(7);e.exports=function(){return a.Date.now()}},15:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(10))},16:function(e,t,n){var a=n(17),i=n(5),o=n(19),r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):r.test(e)?NaN:+e}},17:function(e,t,n){var a=n(18),i=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(i,""):e}},18:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},19:function(e,t,n){var a=n(20),i=n(23);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==a(e)}},2:function(e,t,n){"use strict";n.r(t);var a=n(0).a.start();t.default=a},20:function(e,t,n){var a=n(8),i=n(21),o=n(22),r=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?i(e):o(e)}},21:function(e,t,n){var a=n(8),i=Object.prototype,o=i.hasOwnProperty,r=i.toString,s=a?a.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var a=!0}catch(l){}var i=r.call(e);return a&&(t?e[s]=n:delete e[s]),i}},22:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},23:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},24:function(e,t,n){"use strict";var a=n(1);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var o={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var n=this.slides.eq(t),a=-n[0].swiperSlideOffset;this.params.virtualTranslate||(a-=this.translate);var i=0;this.isHorizontal()||(i=a,a=0);var o=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(n[0].progress),0):1+Math.min(Math.max(n[0].progress,-1),0);n.css({opacity:o}).transform("translate3d("+a+"px, "+i+"px, 0px)")}},setTransition:function(e){var t=this,n=t.slides,a=t.$wrapperEl;if(n.transition(e),t.params.virtualTranslate&&0!==e){var i=!1;n.transitionEnd((function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)a.trigger(e[n])}}))}}};t.a={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){Object(a.a)(this,{fadeEffect:i({},o)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Object(a.e)(e.params,t),Object(a.e)(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}}},25:function(e,t,n){"use strict";var a=n(4),i=n(1);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r={update:function(){var e=this.rtl,t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var n,o=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,r=this.pagination.$el,s=this.params.loop?Math.ceil((o-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((n=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>o-1-2*this.loopedSlides&&(n-=o-2*this.loopedSlides),n>s-1&&(n-=s),n<0&&"bullets"!==this.params.paginationType&&(n=s+n)):n="undefined"!==typeof this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===t.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var l,c,h,u=this.pagination.bullets;if(t.dynamicBullets&&(this.pagination.bulletSize=u.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(t.dynamicMainBullets+4)+"px"),t.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=n-this.previousIndex,this.pagination.dynamicBulletIndex>t.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=t.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),l=n-this.pagination.dynamicBulletIndex,h=((c=l+(Math.min(u.length,t.dynamicMainBullets)-1))+l)/2),u.removeClass(t.bulletActiveClass+" "+t.bulletActiveClass+"-next "+t.bulletActiveClass+"-next-next "+t.bulletActiveClass+"-prev "+t.bulletActiveClass+"-prev-prev "+t.bulletActiveClass+"-main"),r.length>1)u.each((function(e){var i=Object(a.a)(e),o=i.index();o===n&&i.addClass(t.bulletActiveClass),t.dynamicBullets&&(o>=l&&o<=c&&i.addClass(t.bulletActiveClass+"-main"),o===l&&i.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),o===c&&i.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next"))}));else{var d=u.eq(n),p=d.index();if(d.addClass(t.bulletActiveClass),t.dynamicBullets){for(var f=u.eq(l),m=u.eq(c),v=l;v<=c;v+=1)u.eq(v).addClass(t.bulletActiveClass+"-main");if(this.params.loop)if(p>=u.length-t.dynamicMainBullets){for(var g=t.dynamicMainBullets;g>=0;g-=1)u.eq(u.length-g).addClass(t.bulletActiveClass+"-main");u.eq(u.length-t.dynamicMainBullets-1).addClass(t.bulletActiveClass+"-prev")}else f.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),m.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next");else f.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),m.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next")}}if(t.dynamicBullets){var y=Math.min(u.length,t.dynamicMainBullets+4),b=(this.pagination.bulletSize*y-this.pagination.bulletSize)/2-h*this.pagination.bulletSize,w=e?"right":"left";u.css(this.isHorizontal()?w:"top",b+"px")}}if("fraction"===t.type&&(r.find(Object(i.b)(t.currentClass)).text(t.formatFractionCurrent(n+1)),r.find(Object(i.b)(t.totalClass)).text(t.formatFractionTotal(s))),"progressbar"===t.type){var x;x=t.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var E=(n+1)/s,M=1,C=1;"horizontal"===x?M=E:C=E,r.find(Object(i.b)(t.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+M+") scaleY("+C+")").transition(this.params.speed)}"custom"===t.type&&t.renderCustom?(r.html(t.renderCustom(this,n+1,s)),this.emit("paginationRender",r[0])):this.emit("paginationUpdate",r[0]),this.params.watchOverflow&&this.enabled&&r[this.isLocked?"addClass":"removeClass"](t.lockClass)}},render:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,n=this.pagination.$el,a="";if("bullets"===e.type){var o=this.params.loop?Math.ceil((t-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;this.params.freeMode&&!this.params.loop&&o>t&&(o=t);for(var r=0;r<o;r+=1)e.renderBullet?a+=e.renderBullet.call(this,r,e.bulletClass):a+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";n.html(a),this.pagination.bullets=n.find(Object(i.b)(e.bulletClass))}"fraction"===e.type&&(a=e.renderFraction?e.renderFraction.call(this,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',n.html(a)),"progressbar"===e.type&&(a=e.renderProgressbar?e.renderProgressbar.call(this,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',n.html(a)),"custom"!==e.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=Object(i.c)(e.$el,e.params.pagination,e.params.createElements,{el:"swiper-pagination"});var t=e.params.pagination;if(t.el){var n=Object(a.a)(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"===typeof t.el&&n.length>1&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",Object(i.b)(t.bulletClass),(function(t){t.preventDefault();var n=Object(a.a)(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)})),Object(i.e)(e.pagination,{$el:n,el:n[0]}),e.enabled||n.addClass(t.lockClass))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",Object(i.b)(e.bulletClass))}}};t.a={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){Object(i.a)(this,{pagination:o({dynamicBulletIndex:0},r)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||"undefined"===typeof e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},"enable disable":function(e){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)},click:function(e,t){var n=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!Object(a.a)(n).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}}},487:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(3),o=(n(488),n(489));a.default.load(Object(i.a)(o))},488:function(e,t,n){},489:function(e,t,n){var a={"./generic_detail_controller.js":490,"./three_video_controller.js":491};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id=489},490:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a=n(0),i=n(9),o=n(25),r=n(24),s=n(6),l=n.n(s);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(i=a.key,o=void 0,"symbol"===typeof(o=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),a)}var i,o}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.a.use([o.a,r.a]);var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(r,e);var t,n,a,o=d(r);function r(){return c(this,r),o.apply(this,arguments)}return t=r,(n=[{key:"gallerySlider",get:function(){return document.querySelector(".gallery__slider")}},{key:"article",get:function(){return document.querySelector(".article")}},{key:"open_overlay",get:function(){return document.querySelector(".overlay__open")}},{key:"header",get:function(){return document.querySelector(".article__header")}},{key:"footer",get:function(){return document.querySelector(".article__footer")}},{key:"content",get:function(){return document.querySelector(".article__content")}},{key:"shareLink",get:function(){return document.querySelector(".share--link")}},{key:"connect",value:function(){this.handleResize(),window.addEventListener("resize",l()(this.handleResize.bind(this),250))}},{key:"disconnect",value:function(){window.removeEventListener("resize",l()(this.handleResize,250)),this.swiper&&this.swiper.destroy(!0,!0)}},{key:"handleResize",value:function(){if(this.header.offsetHeight>110){var e=this.footer.getBoundingClientRect().top,t=this.content.getBoundingClientRect().top,n=parseInt(e-t),a=this.header.offsetHeight-110,i=parseInt(n)-a+"px";console.log({height:i,diff:a,maxHeight:n,footerTop:e,contentTop:t}),this.content.style.maxHeight=i,this.setLinkFocus()}this.swiper&&this.swiper.destroy(!0,!0),this.initSlider()}},{key:"initSlider",value:function(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<1024&&this.initGallerySlider()}},{key:"initGallerySlider",value:function(){this.swiper=new i.a(this.sliderTarget,{slidesPerView:1,centeredSlides:!0,speed:400,effect:"fade",autoHeight:!0,loop:!0,fadeEffect:{crossFade:!0},pagination:{el:this.paginationTarget,clickable:!0}})}},{key:"setLinkFocus",value:function(){this.shareLink&&this.shareLink.focus((function(){document.querySelector(".share__links").classList.add("share__links--fade")}))}}])&&h(t.prototype,n),a&&h(t,a),Object.defineProperty(t,"prototype",{writable:!1}),r}(a.b);m.targets=["slider","pagination"]},491:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var a=n(0);n(492);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(i=a.key,o=void 0,"symbol"===typeof(o=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),a)}var i,o}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(c,e);var t,n,a,l=s(c);function c(){var e;i(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=l.call.apply(l,[this].concat(n))).state={fullscreen:!1,viewers:[]},e}return t=c,(n=[{key:"panolens",get:function(){return document.querySelector(".panolens")}},{key:"panolensImage",get:function(){return document.querySelector(".panolens__src")}},{key:"connect",value:function(){this.init360Player()}},{key:"init360Player",value:function(){var e=this,t=this.panolens.dataset,n=t.src,a=(t.title,this.panolens.dataset.rotation||"0"),i=[],o={default:{yaw:parseFloat(a),type:"equirectangular",panorama:n,autoLoad:!0,showControls:!1,compass:!1,mouseZoom:!1,autoRotate:-1,hotSpots:i}};this.panolens.dataset.hotspots&&JSON.parse(this.panolens.dataset.hotspots.replaceAll("=>",":")).forEach((function(t){var n=t.text.replaceAll(" ","_").toLowerCase(),a={yaw:parseFloat(t.x_axis),pitch:parseFloat(t.y_axis),type:"scene",text:t.text,sceneId:n,cssClass:"custom-hotspot",createTooltipFunc:e.styleHotspots,createTooltipArgs:t.text},r={yaw:parseFloat(t.starting_point)||0,type:"equirectangular",panorama:t.asset.url,showControls:!1,compass:!1,mouseZoom:!1,autoRotate:-1,hotSpots:[{pitch:0,yaw:0,type:"scene",text:"Back",sceneId:"default",cssClass:"custom-hotspot",createTooltipFunc:e.styleHotspots,createTooltipArgs:"Back"}]};o[n]=r,i.push(a)}));var r={default:{firstScene:"default",sceneFadeDuration:1e3},scenes:o},s=pannellum.viewer("panorama",r);document.getElementById("fullscreen").addEventListener("click",(function(){s.toggleFullscreen()}))}},{key:"styleHotspots",value:function(e,t){var n=document.createElement("span"),a=document.createElement("img"),i=document.querySelector(".panolens");e.classList.add("custom-tooltip"),n.innerHTML=t,a.src=i.dataset.plus,e.appendChild(a),e.appendChild(n)}}])&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.b)},492:function(e,t){window.libpannellum=function(e,t,n){function a(a){function h(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function u(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function d(e,t,n,a,i,o){this.vertices=e,this.side=t,this.level=n,this.x=a,this.y=i,this.path=o.replace("%s",t).replace("%l",n).replace("%x",a).replace("%y",i)}function p(e,t,n,a,i){var o;o=g(e,(l=t.vertices).slice(0,3));var r=g(e,l.slice(3,6)),s=g(e,l.slice(6,9)),l=g(e,l.slice(9,12)),c=o[0]+r[0]+s[0]+l[0];if(-4==c||4==c?o=!1:o=-4!=(c=o[1]+r[1]+s[1]+l[1])&&4!=c&&4!=o[2]+r[2]+s[2]+l[2],o){for(r=(o=t.vertices)[0]+o[3]+o[6]+o[9],s=o[1]+o[4]+o[7]+o[10],l=o[2]+o[5]+o[8]+o[11],c=Math.sqrt(r*r+s*s+l*l),l=Math.asin(l/c),r=Math.atan2(s,r)-a,r+=r>Math.PI?-2*Math.PI:r<-Math.PI?2*Math.PI:0,r=Math.abs(r),t.diff=Math.acos(Math.sin(n)*Math.sin(l)+Math.cos(n)*Math.cos(l)*Math.cos(r)),r=!1,s=0;s<b.nodeCache.length;s++)if(b.nodeCache[s].path==t.path){r=!0,b.nodeCache[s].timestamp=b.nodeCacheTimestamp++,b.nodeCache[s].diff=t.diff,b.currentNodes.push(b.nodeCache[s]);break}if(r||(t.timestamp=b.nodeCacheTimestamp++,b.currentNodes.push(t),b.nodeCache.push(t)),t.level<b.level){l=T.cubeResolution*Math.pow(2,t.level-T.maxLevel),r=Math.ceil(l*T.invTileResolution)-1,s=l%T.tileResolution*2;var h=2*l%T.tileResolution;0===h&&(h=T.tileResolution),0===s&&(s=2*T.tileResolution),c=.5,t.x!=r&&t.y!=r||(c=1-T.tileResolution/(T.tileResolution+h));var u=1-c,f=(l=[],c),m=c,v=c,y=u,w=u,x=u;for(h<T.tileResolution&&(t.x==r&&t.y!=r?(w=m=.5,("d"==t.side||"u"==t.side)&&(x=v=.5)):t.x!=r&&t.y==r&&(y=f=.5,"l"==t.side||"r"==t.side)&&(x=v=.5)),s<=T.tileResolution&&(t.x==r&&(f=0,y=1,"l"==t.side||"r"==t.side)&&(v=0,x=1),t.y==r&&(m=0,w=1,"d"==t.side||"u"==t.side)&&(v=0,x=1)),h=new d(h=[o[0],o[1],o[2],o[0]*f+o[3]*y,o[1]*c+o[4]*u,o[2]*v+o[5]*x,o[0]*f+o[6]*y,o[1]*m+o[7]*w,o[2]*v+o[8]*x,o[0]*c+o[9]*u,o[1]*m+o[10]*w,o[2]*v+o[11]*x],t.side,t.level+1,2*t.x,2*t.y,T.fullpath),l.push(h),t.x==r&&s<=T.tileResolution||(h=new d(h=[o[0]*f+o[3]*y,o[1]*c+o[4]*u,o[2]*v+o[5]*x,o[3],o[4],o[5],o[3]*c+o[6]*u,o[4]*m+o[7]*w,o[5]*v+o[8]*x,o[0]*f+o[6]*y,o[1]*m+o[7]*w,o[2]*v+o[8]*x],t.side,t.level+1,2*t.x+1,2*t.y,T.fullpath),l.push(h)),t.x==r&&s<=T.tileResolution||t.y==r&&s<=T.tileResolution||(h=new d(h=[o[0]*f+o[6]*y,o[1]*m+o[7]*w,o[2]*v+o[8]*x,o[3]*c+o[6]*u,o[4]*m+o[7]*w,o[5]*v+o[8]*x,o[6],o[7],o[8],o[9]*f+o[6]*y,o[10]*c+o[7]*u,o[11]*v+o[8]*x],t.side,t.level+1,2*t.x+1,2*t.y+1,T.fullpath),l.push(h)),t.y==r&&s<=T.tileResolution||(h=new d(h=[o[0]*c+o[9]*u,o[1]*m+o[10]*w,o[2]*v+o[11]*x,o[0]*f+o[6]*y,o[1]*m+o[7]*w,o[2]*v+o[8]*x,o[9]*f+o[6]*y,o[10]*c+o[7]*u,o[11]*v+o[8]*x,o[9],o[10],o[11]],t.side,t.level+1,2*t.x,2*t.y+1,T.fullpath),l.push(h)),t=0;t<l.length;t++)p(e,l[t],n,a,i)}}}function f(e,t,n){var a=Math.sin(t);return t=Math.cos(t),"x"==n?[e[0],t*e[1]+a*e[2],t*e[2]-a*e[1],e[3],t*e[4]+a*e[5],t*e[5]-a*e[4],e[6],t*e[7]+a*e[8],t*e[8]-a*e[7]]:"y"==n?[t*e[0]-a*e[2],e[1],t*e[2]+a*e[0],t*e[3]-a*e[5],e[4],t*e[5]+a*e[3],t*e[6]-a*e[8],e[7],t*e[8]+a*e[6]]:"z"==n?[t*e[0]+a*e[1],t*e[1]-a*e[0],e[2],t*e[3]+a*e[4],t*e[4]-a*e[3],e[5],t*e[6]+a*e[7],t*e[7]-a*e[6],e[8]]:void 0}function m(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}function v(e){F(e,e.path+"."+T.extension,(function(t,n){e.texture=t,e.textureLoaded=n?2:1}),A.crossOrigin)}function g(e,t){var n=(i=[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[4]*t[0]+e[5]*t[1]+e[6]*t[2],e[11]+e[8]*t[0]+e[9]*t[1]+e[10]*t[2],1/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2])])[0]*i[3],a=i[1]*i[3],i=i[2]*i[3],o=[0,0,0];return-1>n&&(o[0]=-1),1<n&&(o[0]=1),-1>a&&(o[1]=-1),1<a&&(o[1]=1),(-1>i||1<i)&&(o[2]=1),o}function y(){console.log("Reducing canvas size due to error 1286!"),B.width=Math.round(B.width/2),B.height=Math.round(B.height/2)}var b,w,x,E,M,C,P,_,T,R,L,I,O,S,k,A,B=t.createElement("canvas");B.style.width=B.style.height="100%",a.appendChild(B),this.init=function(e,h,u,d,p,f,m,v){function g(e){if(N){var t=e*e*4,n=new Uint8ClampedArray(t),a=v.backgroundColor?v.backgroundColor:[0,0,0];a[0]*=255,a[1]*=255,a[2]*=255;for(var i=0;i<t;i++)n[i++]=a[0],n[i++]=a[1],n[i++]=a[2];for(e=new ImageData(n,e,e),D=0;6>D;D++)0==T[D].width&&(T[D]=e)}}if(h===n&&(h="equirectangular"),"equirectangular"!=h&&"cubemap"!=h&&"multires"!=h)throw console.log("Error: invalid image type specified!"),{type:"config error"};if(R=h,T=e,L=u,A=v||{},b){if(x&&(w.detachShader(b,x),w.deleteShader(x)),E&&(w.detachShader(b,E),w.deleteShader(E)),w.bindBuffer(w.ARRAY_BUFFER,null),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,null),b.texture&&w.deleteTexture(b.texture),b.nodeCache)for(e=0;e<b.nodeCache.length;e++)w.deleteTexture(b.nodeCache[e].texture);w.deleteProgram(b),b=n}_=n;var D,F,N=!1;if("cubemap"==R)for(D=0;6>D;D++)0<T[D].width?(F===n&&(F=T[D].width),F!=T[D].width&&console.log("Cube faces have inconsistent widths: "+F+" vs. "+T[D].width)):N=!0;if("cubemap"==R&&0!==(F&F-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(w||(w=B.getContext("experimental-webgl",{alpha:!1,depth:!1})),w&&1286==w.getError()&&y()),!w&&("multires"==R&&T.hasOwnProperty("fallbackPath")||"cubemap"==R)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){C&&a.removeChild(C),(C=t.createElement("div")).className="pnlm-world",d=T.basePath?T.basePath+T.fallbackPath:T.fallbackPath;var U="frblud".split(""),z=0;p=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+U[this.side]+"face",C.appendChild(e);var n=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,n.drawImage(this,2,2);var a,i,o=n.getImageData(0,0,e.width,e.height),r=o.data;for(a=2;a<e.width-2;a++)for(i=0;4>i;i++)r[4*(a+e.width)+i]=r[4*(a+2*e.width)+i],r[4*(a+e.width*(e.height-2))+i]=r[4*(a+e.width*(e.height-3))+i];for(a=2;a<e.height-2;a++)for(i=0;4>i;i++)r[4*(a*e.width+1)+i]=r[4*(a*e.width+2)+i],r[4*((a+1)*e.width-2)+i]=r[4*((a+1)*e.width-3)+i];for(i=0;4>i;i++)r[4*(e.width+1)+i]=r[4*(2*e.width+2)+i],r[4*(2*e.width-2)+i]=r[4*(3*e.width-3)+i],r[4*(e.width*(e.height-2)+1)+i]=r[4*(e.width*(e.height-3)+2)+i],r[4*(e.width*(e.height-1)-2)+i]=r[4*(e.width*(e.height-2)-3)+i];for(a=1;a<e.width-1;a++)for(i=0;4>i;i++)r[4*a+i]=r[4*(a+e.width)+i],r[4*(a+e.width*(e.height-1))+i]=r[4*(a+e.width*(e.height-2))+i];for(a=1;a<e.height-1;a++)for(i=0;4>i;i++)r[a*e.width*4+i]=r[4*(a*e.width+1)+i],r[4*((a+1)*e.width-1)+i]=r[4*((a+1)*e.width-2)+i];for(i=0;4>i;i++)r[i]=r[4*(e.width+1)+i],r[4*(e.width-1)+i]=r[4*(2*e.width-2)+i],r[e.width*(e.height-1)*4+i]=r[4*(e.width*(e.height-2)+1)+i],r[4*(e.width*e.height-1)+i]=r[4*(e.width*(e.height-1)-2)+i];n.putImageData(o,0,0),H.call(this)};var H=function(){0<this.width?(M===n&&(M=this.width),M!=this.width&&console.log("Fallback faces have inconsistent widths: "+M+" vs. "+this.width)):N=!0,6==++z&&(M=this.width,a.appendChild(C),m())};N=!1;for(D=0;6>D;D++)(f=new Image).crossOrigin=A.crossOrigin?A.crossOrigin:"anonymous",f.side=D,f.onload=p,f.onerror=H,f.src="multires"==R?d.replace("%s",U[D])+"."+T.extension:T[D].src;g(M)}else{if(!w)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for("cubemap"==R&&g(F),T.fullpath=T.basePath?T.basePath+T.path:T.path,T.invTileResolution=1/T.tileResolution,e=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1],P=[],D=0;6>D;D++)P[D]=e.slice(12*D,12*D+12),e=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];if(e=0,"equirectangular"==R){if(e=w.getParameter(w.MAX_TEXTURE_SIZE),Math.max(T.width/2,T.height)>e)throw console.log("Error: The image is too big; it's "+T.width+"px wide, but this device's maximum supported size is "+2*e+"px."),{type:"webgl size error",width:T.width,maxWidth:2*e}}else if("cubemap"==R&&F>w.getParameter(w.MAX_CUBE_MAP_TEXTURE_SIZE))throw console.log("Error: The image is too big; it's "+F+"px wide, but this device's maximum supported size is "+e+"px."),{type:"webgl size error",width:F,maxWidth:e};if(v===n||v.horizonPitch===n&&v.horizonRoll===n||(_=[v.horizonPitch==n?0:v.horizonPitch,v.horizonRoll==n?0:v.horizonRoll]),F=w.TEXTURE_2D,w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),w.getShaderPrecisionFormat&&(h=w.getShaderPrecisionFormat(w.FRAGMENT_SHADER,w.HIGH_FLOAT))&&1>h.precision&&(r=r.replace("highp","mediump")),x=w.createShader(w.VERTEX_SHADER),h=i,"multires"==R&&(h=o),w.shaderSource(x,h),w.compileShader(x),E=w.createShader(w.FRAGMENT_SHADER),h=l,"cubemap"==R?(F=w.TEXTURE_CUBE_MAP,h=s):"multires"==R&&(h=c),w.shaderSource(E,h),w.compileShader(E),b=w.createProgram(),w.attachShader(b,x),w.attachShader(b,E),w.linkProgram(b),w.getShaderParameter(x,w.COMPILE_STATUS)||console.log(w.getShaderInfoLog(x)),w.getShaderParameter(E,w.COMPILE_STATUS)||console.log(w.getShaderInfoLog(E)),w.getProgramParameter(b,w.LINK_STATUS)||console.log(w.getProgramInfoLog(b)),w.useProgram(b),b.drawInProgress=!1,h=v.backgroundColor?v.backgroundColor:[0,0,0],w.clearColor(h[0],h[1],h[2],1),w.clear(w.COLOR_BUFFER_BIT),b.texCoordLocation=w.getAttribLocation(b,"a_texCoord"),w.enableVertexAttribArray(b.texCoordLocation),"multires"!=R?(I||(I=w.createBuffer()),w.bindBuffer(w.ARRAY_BUFFER,I),w.bufferData(w.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),w.STATIC_DRAW),w.vertexAttribPointer(b.texCoordLocation,2,w.FLOAT,!1,0,0),b.aspectRatio=w.getUniformLocation(b,"u_aspectRatio"),w.uniform1f(b.aspectRatio,w.drawingBufferWidth/w.drawingBufferHeight),b.psi=w.getUniformLocation(b,"u_psi"),b.theta=w.getUniformLocation(b,"u_theta"),b.f=w.getUniformLocation(b,"u_f"),b.h=w.getUniformLocation(b,"u_h"),b.v=w.getUniformLocation(b,"u_v"),b.vo=w.getUniformLocation(b,"u_vo"),b.rot=w.getUniformLocation(b,"u_rot"),w.uniform1f(b.h,d/(2*Math.PI)),w.uniform1f(b.v,p/Math.PI),w.uniform1f(b.vo,f/Math.PI*2),"equirectangular"==R&&(b.backgroundColor=w.getUniformLocation(b,"u_backgroundColor"),w.uniform4fv(b.backgroundColor,h.concat([1]))),b.texture=w.createTexture(),w.bindTexture(F,b.texture),"cubemap"==R?(w.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T[1]),w.texImage2D(w.TEXTURE_CUBE_MAP_NEGATIVE_X,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T[3]),w.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_Y,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T[4]),w.texImage2D(w.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T[5]),w.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_Z,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T[0]),w.texImage2D(w.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T[2])):T.width<=e?(w.uniform1i(w.getUniformLocation(b,"u_splitImage"),0),w.texImage2D(F,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T)):(w.uniform1i(w.getUniformLocation(b,"u_splitImage"),1),(d=t.createElement("canvas")).width=T.width/2,d.height=T.height,(d=d.getContext("2d")).drawImage(T,0,0),p=d.getImageData(0,0,T.width/2,T.height),w.texImage2D(F,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,p),b.texture2=w.createTexture(),w.activeTexture(w.TEXTURE1),w.bindTexture(F,b.texture2),w.uniform1i(w.getUniformLocation(b,"u_image1"),1),d.drawImage(T,-T.width/2,0),p=d.getImageData(0,0,T.width/2,T.height),w.texImage2D(F,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,p),w.texParameteri(F,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(F,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(F,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(F,w.TEXTURE_MAG_FILTER,w.LINEAR),w.activeTexture(w.TEXTURE0)),w.texParameteri(F,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(F,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(F,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(F,w.TEXTURE_MAG_FILTER,w.LINEAR)):(b.vertPosLocation=w.getAttribLocation(b,"a_vertCoord"),w.enableVertexAttribArray(b.vertPosLocation),O||(O=w.createBuffer()),S||(S=w.createBuffer()),k||(k=w.createBuffer()),w.bindBuffer(w.ARRAY_BUFFER,S),w.bufferData(w.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),w.STATIC_DRAW),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,k),w.bufferData(w.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),w.STATIC_DRAW),b.perspUniform=w.getUniformLocation(b,"u_perspMatrix"),b.cubeUniform=w.getUniformLocation(b,"u_cubeMatrix"),b.level=-1,b.currentNodes=[],b.nodeCache=[],b.nodeCacheTimestamp=0),0!==(d=w.getError()))throw console.log("Error: Something went wrong with WebGL!",d),{type:"webgl error"};m()}},this.destroy=function(){if(a!==n&&(B!==n&&a.contains(B)&&a.removeChild(B),C!==n&&a.contains(C)&&a.removeChild(C)),w){var e=w.getExtension("WEBGL_lose_context");e&&e.loseContext()}},this.resize=function(){var t=e.devicePixelRatio||1;B.width=B.clientWidth*t,B.height=B.clientHeight*t,w&&(1286==w.getError()&&y(),w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),"multires"!=R&&w.uniform1f(b.aspectRatio,B.clientWidth/B.clientHeight))},this.resize(),this.setPose=function(e,t){_=[e,t]},this.render=function(e,t,a,i){var o,r=0;if(i===n&&(i={}),i.roll&&(r=i.roll),_!==n){o=_[0];var s=_[1],l=e,c=t,g=Math.cos(s)*Math.sin(e)*Math.sin(o)+Math.cos(e)*(Math.cos(o)*Math.cos(t)+Math.sin(s)*Math.sin(o)*Math.sin(t)),y=-Math.sin(e)*Math.sin(s)+Math.cos(e)*Math.cos(s)*Math.sin(t);e=Math.cos(s)*Math.cos(o)*Math.sin(e)+Math.cos(e)*(-Math.cos(t)*Math.sin(o)+Math.cos(o)*Math.sin(s)*Math.sin(t)),e=Math.asin(Math.max(Math.min(e,1),-1)),t=Math.atan2(y,g),o=[Math.cos(l)*(Math.sin(s)*Math.sin(o)*Math.cos(c)-Math.cos(o)*Math.sin(c)),Math.cos(l)*Math.cos(s)*Math.cos(c),Math.cos(l)*(Math.cos(o)*Math.sin(s)*Math.cos(c)+Math.sin(c)*Math.sin(o))],s=[-Math.cos(e)*Math.sin(t),Math.cos(e)*Math.cos(t)],s=Math.acos(Math.max(Math.min((o[0]*s[0]+o[1]*s[1])/(Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2])*Math.sqrt(s[0]*s[0]+s[1]*s[1])),1),-1)),0>o[2]&&(s=2*Math.PI-s),r+=s}if(w||"multires"!=R&&"cubemap"!=R){if("multires"!=R)a=2*Math.atan(Math.tan(.5*a)/(w.drawingBufferWidth/w.drawingBufferHeight)),a=1/Math.tan(.5*a),w.uniform1f(b.psi,t),w.uniform1f(b.theta,e),w.uniform1f(b.rot,r),w.uniform1f(b.f,a),!0===L&&"equirectangular"==R&&(w.bindTexture(w.TEXTURE_2D,b.texture),w.texImage2D(w.TEXTURE_2D,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,T)),w.drawArrays(w.TRIANGLES,0,6);else{for(o=w.drawingBufferWidth/w.drawingBufferHeight,s=2*Math.atan(Math.tan(a/2)*w.drawingBufferHeight/w.drawingBufferWidth),o=[(s=1/Math.tan(s/2))/o,0,0,0,0,s,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],s=1;s<T.maxLevel&&w.drawingBufferWidth>T.tileResolution*Math.pow(2,s-1)*Math.tan(a/2)*.707;)s++;if(b.level=s,s=f(s=[1,0,0,0,1,0,0,0,1],-r,"z"),s=f(s,-e,"x"),s=[(s=f(s,t,"y"))[0],s[1],s[2],0,s[3],s[4],s[5],0,s[6],s[7],s[8],0,0,0,0,1],w.uniformMatrix4fv(b.perspUniform,!1,new Float32Array(m(o))),w.uniformMatrix4fv(b.cubeUniform,!1,new Float32Array(m(s))),r=[o[0]*s[0],o[0]*s[1],o[0]*s[2],0,o[5]*s[4],o[5]*s[5],o[5]*s[6],0,o[10]*s[8],o[10]*s[9],o[10]*s[10],o[11],-s[8],-s[9],-s[10],0],b.nodeCache.sort(h),200<b.nodeCache.length&&b.nodeCache.length>b.currentNodes.length+50)for(o=b.nodeCache.splice(200,b.nodeCache.length-200),s=0;s<o.length;s++)w.deleteTexture(o[s].texture);for(b.currentNodes=[],s="fbudlr".split(""),o=0;6>o;o++)p(r,l=new d(P[o],s[o],1,0,0,T.fullpath),e,t,a);for(b.currentNodes.sort(u),e=D.length-1;0<=e;e--)-1===b.currentNodes.indexOf(D[e].node)&&(D[e].node.textureLoad=!1,D.splice(e,1));if(0===D.length)for(e=0;e<b.currentNodes.length;e++)if(!(t=b.currentNodes[e]).texture&&!t.textureLoad){t.textureLoad=!0,setTimeout(v,0,t);break}if(!b.drawInProgress){for(b.drawInProgress=!0,w.clear(w.COLOR_BUFFER_BIT),e=0;e<b.currentNodes.length;e++)1<b.currentNodes[e].textureLoaded&&(w.bindBuffer(w.ARRAY_BUFFER,O),w.bufferData(w.ARRAY_BUFFER,new Float32Array(b.currentNodes[e].vertices),w.STATIC_DRAW),w.vertexAttribPointer(b.vertPosLocation,3,w.FLOAT,!1,0,0),w.bindBuffer(w.ARRAY_BUFFER,S),w.vertexAttribPointer(b.texCoordLocation,2,w.FLOAT,!1,0,0),w.bindTexture(w.TEXTURE_2D,b.currentNodes[e].texture),w.drawElements(w.TRIANGLES,6,w.UNSIGNED_SHORT,0));b.drawInProgress=!1}}if(i.returnImage!==n)return B.toDataURL("image/png")}else for(i={f:"translate3d(-"+((o=M/2)+2)+"px, -"+(o+2)+"px, -"+o+"px)",b:"translate3d("+(o+2)+"px, -"+(o+2)+"px, "+o+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(o+2)+"px, -"+o+"px, "+(o+2)+"px) rotateX(270deg)",d:"translate3d(-"+(o+2)+"px, "+o+"px, -"+(o+2)+"px) rotateX(90deg)",l:"translate3d(-"+o+"px, -"+(o+2)+"px, "+(o+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+o+"px, -"+(o+2)+"px, -"+(o+2)+"px) rotateY(270deg)"},t="perspective("+(a=(a=1/Math.tan(a/2))*B.clientWidth/2+"px")+") translateZ("+a+") rotateX("+e+"rad) rotateY("+t+"rad) ",a=Object.keys(i),e=0;6>e;e++)(r=C.querySelector(".pnlm-"+a[e]+"face"))&&(r.style.webkitTransform=t+i[a[e]],r.style.transform=t+i[a[e]])},this.isLoading=function(){if(w&&"multires"==R)for(var e=0;e<b.currentNodes.length;e++)if(!b.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return B};var D=[],F=function(){function e(){var e=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=n||"anonymous";var t=function(){if(0<e.image.width&&0<e.image.height){var t=e.image;w.bindTexture(w.TEXTURE_2D,e.texture),w.texImage2D(w.TEXTURE_2D,0,w.RGB,w.RGB,w.UNSIGNED_BYTE,t),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.bindTexture(w.TEXTURE_2D,null),e.callback(e.texture,!0)}else e.callback(e.texture,!1);D.length?(t=D.shift(),e.loadTexture(t.src,t.texture,t.callback)):i[a++]=e};this.image.addEventListener("load",t),this.image.addEventListener("error",t)}function t(e,t,n,a){this.node=e,this.src=t,this.texture=n,this.callback=a}var n,a=4,i={};e.prototype.loadTexture=function(e,t,n){this.texture=t,this.callback=n,this.image.src=e};for(var o=0;o<a;o++)i[o]=new e;return function(e,o,r,s){return n=s,s=w.createTexture(),a?i[--a].loadTexture(o,s,r):D.push(new t(e,o,s,r)),s}}()}var i="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",o="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",r="precision highp float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nuniform bool u_splitImage;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);",s=r+"float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",l=r+"lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse {\nif(u_splitImage) {\nif(coord.x < 0.0)\ngl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / u_h, (-coord.y + u_v + u_vo) / (u_v * 2.0)));\nelse\ngl_FragColor = texture2D(u_image1, vec2((coord.x + u_h) / u_h - 1.0, (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n} else {\ngl_FragColor = texture2D(u_image0, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}\n}\n}",c="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(e,t,n,i){return new a(e,t,n,i)}}}(window,document),window.pannellum=function(e,t,n){function a(a,i){function o(){if((h=t.createElement("div")).innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1==h.getElementsByTagName("i").length)l();else{var a;if(ne=Z.hfov,ae=Z.pitch,"cubemap"==Z.type){for(Q=[],h=0;6>h;h++)Q.push(new Image),Q[h].crossOrigin=Z.crossOrigin;Se.load.lbox.style.display="block",Se.load.lbar.style.display="none"}else if("multires"==Z.type)h=JSON.parse(JSON.stringify(Z.multiRes)),Z.basePath&&Z.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(Z.multiRes.basePath)?h.basePath=Z.basePath+Z.multiRes.basePath:Z.multiRes.basePath?h.basePath=Z.multiRes.basePath:Z.basePath&&(h.basePath=Z.basePath),Q=h;else if(!0===Z.dynamic)Q=Z.panorama;else{if(Z.panorama===n)return void l(Z.strings.noPanoramaError);Q=new Image}if("cubemap"==Z.type)for(var i=6,o=function(){0===--i&&s()},c=function(e){var n=t.createElement("a");n.href=e.target.src,n.textContent=n.href,l(Z.strings.fileAccessError.replace("%s",n.outerHTML))},h=0;h<Q.length;h++)"null"==(a=Z.cubeMap[h])?(console.log("Will use background instead of missing cubemap face "+h),o()):(Z.basePath&&!r(a)&&(a=Z.basePath+a),Q[h].onload=o,Q[h].onerror=c,Q[h].src=W(a));else if("multires"==Z.type)s();else if(a="",Z.basePath&&(a=Z.basePath),!0!==Z.dynamic){a=r(Z.panorama)?Z.panorama:a+Z.panorama,Q.onload=function(){e.URL.revokeObjectURL(this.src),s()};var u=new XMLHttpRequest;u.onloadend=function(){if(200!=u.status){var i=t.createElement("a");i.href=a,i.textContent=i.href,l(Z.strings.fileAccessError.replace("%s",i.outerHTML))}!function(t){var a=new FileReader;a.addEventListener("loadend",(function(){var i=a.result;navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)&&((0>(r=i.indexOf("\xff\xc2"))||65536<r)&&l(Z.strings.iOS8WebGLError));if(-1<(r=i.indexOf("<x:xmpmeta"))&&!0!==Z.ignoreGPanoXMP){var o=i.substring(r,i.indexOf("</x:xmpmeta>")+12),r=(i=(p=function(e){var t;return 0<=o.indexOf(e+'="')?t=(t=o.substring(o.indexOf(e+'="')+e.length+2)).substring(0,t.indexOf('"')):0<=o.indexOf(e+">")&&(t=(t=o.substring(o.indexOf(e+">")+e.length+1)).substring(0,t.indexOf("<"))),t!==n?Number(t):null})("GPano:FullPanoWidthPixels"),p("GPano:CroppedAreaImageWidthPixels")),s=p("GPano:FullPanoHeightPixels"),c=p("GPano:CroppedAreaImageHeightPixels"),h=p("GPano:CroppedAreaTopPixels"),u=p("GPano:PoseHeadingDegrees"),d=p("GPano:PosePitchDegrees"),p=p("GPano:PoseRollDegrees");null!==i&&null!==r&&null!==s&&null!==c&&null!==h&&(0>Me.indexOf("haov")&&(Z.haov=r/i*360),0>Me.indexOf("vaov")&&(Z.vaov=c/s*180),0>Me.indexOf("vOffset")&&(Z.vOffset=-180*((h+c/2)/s-.5)),null!==u&&0>Me.indexOf("northOffset")&&(Z.northOffset=u,!1!==Z.compass&&(Z.compass=!0)),null!==d&&null!==p&&(0>Me.indexOf("horizonPitch")&&(Z.horizonPitch=d),0>Me.indexOf("horizonRoll")&&(Z.horizonRoll=p)))}Q.src=e.URL.createObjectURL(t)})),a.readAsBinaryString!==n?a.readAsBinaryString(t):a.readAsText(t)}(this.response),Se.load.msg.innerHTML=""},u.onprogress=function(e){var t,n;e.lengthComputable?(Se.load.lbarFill.style.width=e.loaded/e.total*100+"%",1e6<e.total?(t="MB",n=(e.loaded/1e6).toFixed(2),e=(e.total/1e6).toFixed(2)):1e3<e.total?(t="kB",n=(e.loaded/1e3).toFixed(1),e=(e.total/1e3).toFixed(1)):(t="B",n=e.loaded,e=e.total),Se.load.msg.innerHTML=n+" / "+e+" "+t):(Se.load.lbox.style.display="block",Se.load.lbar.style.display="none")};try{u.open("GET",a,!0)}catch(F){l(Z.strings.malformedURLError)}u.responseType="blob",u.setRequestHeader("Accept","image/*,*/*;q=0.9"),u.withCredentials="use-credentials"===Z.crossOrigin,u.send()}Z.draggable&&Re.classList.add("pnlm-grab"),Re.classList.remove("pnlm-grabbing"),Ce=!0===Z.dynamicUpdate,Z.dynamic&&Ce&&(Q=Z.panorama,s())}}function r(e){return/^(?:[a-z]+:)?\/\//i.test(e)||"/"==e[0]||"blob:"==e.slice(0,5)}function s(){V||(V=new libpannellum.renderer(Le)),me||(me=!0,Ie.addEventListener("mousedown",h,!1),t.addEventListener("mousemove",p,!1),t.addEventListener("mouseup",f,!1),Z.mouseZoom&&(Re.addEventListener("mousewheel",x,!1),Re.addEventListener("DOMMouseScroll",x,!1)),Z.doubleClickZoom&&Ie.addEventListener("dblclick",u,!1),a.addEventListener("mozfullscreenchange",N,!1),a.addEventListener("webkitfullscreenchange",N,!1),a.addEventListener("msfullscreenchange",N,!1),a.addEventListener("fullscreenchange",N,!1),e.addEventListener("resize",T,!1),e.addEventListener("orientationchange",T,!1),Z.disableKeyboardCtrl||(a.addEventListener("keydown",E,!1),a.addEventListener("keyup",C,!1),a.addEventListener("blur",M,!1)),t.addEventListener("mouseleave",f,!1),""===t.documentElement.style.pointerAction&&""===t.documentElement.style.touchAction?(Ie.addEventListener("pointerdown",y,!1),Ie.addEventListener("pointermove",b,!1),Ie.addEventListener("pointerup",w,!1),Ie.addEventListener("pointerleave",w,!1)):(Ie.addEventListener("touchstart",m,!1),Ie.addEventListener("touchmove",v,!1),Ie.addEventListener("touchend",g,!1)),e.navigator.pointerEnabled&&(a.style.touchAction="none")),function(){try{var e={};Z.horizonPitch!==n&&(e.horizonPitch=Z.horizonPitch*Math.PI/180),Z.horizonRoll!==n&&(e.horizonRoll=Z.horizonRoll*Math.PI/180),Z.backgroundColor!==n&&(e.backgroundColor=Z.backgroundColor),V.init(Q,Z.type,Z.dynamic,Z.haov*Math.PI/180,Z.vaov*Math.PI/180,Z.vOffset*Math.PI/180,S,e),!0!==Z.dynamic&&(Q=n)}catch(t){if("webgl error"==t.type||"no webgl"==t.type)l();else{if("webgl size error"!=t.type)throw l(Z.strings.unknownError),t;l(Z.strings.textureSizeError.replace("%s",t.width).replace("%s",t.maxWidth))}}}(),z(Z.hfov),setTimeout((function(){}),500)}function l(e){e===n&&(e=Z.strings.genericWebGLError),Se.errorMsg.innerHTML="<p>"+e+"</p>",Ae.load.style.display="none",Se.load.box.style.display="none",Se.errorMsg.style.display="table",fe=!0,K=n,Le.style.display="none",$("error",e)}function c(e){var t=a.getBoundingClientRect(),n={};return n.x=(e.clientX||e.pageX)-t.left,n.y=(e.clientY||e.pageY)-t.top,n}function h(e){if(e.preventDefault(),a.focus(),K&&Z.draggable){var t=c(e);if(Z.hotSpotDebug){var n=d(e);console.log("Pitch: "+n[0]+", Yaw: "+n[1]+", Center Pitch: "+Z.pitch+", Center Yaw: "+Z.yaw+", HFOV: "+Z.hfov)}H(),Y(),Z.roll=0,ve.hfov=0,oe=!0,re=Date.now(),se=t.x,le=t.y,he=Z.yaw,ue=Z.pitch,Re.classList.add("pnlm-grabbing"),Re.classList.remove("pnlm-grab"),$("mousedown",e),R()}}function u(e){Z.minHfov===Z.hfov?ie.setHfov(ne,1e3):(e=d(e),ie.lookAt(e[0],e[1],Z.minHfov,1e3))}function d(e){var t=c(e),n=(e=V.getCanvas()).clientWidth,a=e.clientHeight;e=t.x/n*2-1;a=(1-t.y/a*2)*a/n;var i=1/Math.tan(Z.hfov*Math.PI/360),o=Math.sin(Z.pitch*Math.PI/180),r=Math.cos(Z.pitch*Math.PI/180);t=i*r-a*o,n=Math.sqrt(e*e+t*t),a=180*Math.atan((a*r+i*o)/n)/Math.PI;return-180>(e=180*Math.atan2(e/n,t/n)/Math.PI+Z.yaw)&&(e+=360),180<e&&(e-=360),[a,e]}function p(e){if(oe&&K){re=Date.now();var t=(n=V.getCanvas()).clientWidth,n=n.clientHeight;e=c(e);var a=180*(Math.atan(se/t*2-1)-Math.atan(e.x/t*2-1))/Math.PI*Z.hfov/90+he;ve.yaw=(a-Z.yaw)%360*.2,Z.yaw=a,t=360*Math.atan(Math.tan(Z.hfov/360*Math.PI)*n/t)/Math.PI,t=180*(Math.atan(e.y/n*2-1)-Math.atan(le/n*2-1))/Math.PI*t/90+ue,ve.pitch=.2*(t-Z.pitch),Z.pitch=t}}function f(e){oe&&(oe=!1,15<Date.now()-re&&(ve.pitch=ve.yaw=0),Re.classList.add("pnlm-grab"),Re.classList.remove("pnlm-grabbing"),re=Date.now(),$("mouseup",e))}function m(e){if(K&&Z.draggable){H(),Y(),Z.roll=0,ve.hfov=0;var t=c(e.targetTouches[0]);if(se=t.x,le=t.y,2==e.targetTouches.length){var n=c(e.targetTouches[1]);se+=.5*(n.x-t.x),le+=.5*(n.y-t.y),ce=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}oe=!0,re=Date.now(),he=Z.yaw,ue=Z.pitch,$("touchstart",e),R()}}function v(e){if(Z.draggable&&(e.preventDefault(),K&&(re=Date.now()),oe&&K)){var t=c(e.targetTouches[0]),n=t.x,a=t.y;2==e.targetTouches.length&&-1!=ce&&(n+=.5*((e=c(e.targetTouches[1])).x-t.x),a+=.5*(e.y-t.y),t=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),z(Z.hfov+.1*(ce-t)),ce=t),t=Z.hfov/360*Z.touchPanSpeedCoeffFactor,n=(se-n)*t+he,ve.yaw=(n-Z.yaw)%360*.2,Z.yaw=n,a=(a-le)*t+ue,ve.pitch=.2*(a-Z.pitch),Z.pitch=a}}function g(){oe=!1,150<Date.now()-re&&(ve.pitch=ve.yaw=0),ce=-1,re=Date.now(),$("touchend",event)}function y(e){"touch"==e.pointerType&&K&&Z.draggable&&(Fe.push(e.pointerId),Ne.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=Ne,m(e),e.preventDefault())}function b(e){if("touch"==e.pointerType&&Z.draggable)for(var t=0;t<Fe.length;t++)if(e.pointerId==Fe[t]){Ne[t].clientX=e.clientX,Ne[t].clientY=e.clientY,e.targetTouches=Ne,v(e),e.preventDefault();break}}function w(e){if("touch"==e.pointerType){for(var t=!1,a=0;a<Fe.length;a++)e.pointerId==Fe[a]&&(Fe[a]=n),Fe[a]&&(t=!0);t||(Fe=[],Ne=[],g()),e.preventDefault()}}function x(e){K&&("fullscreenonly"!=Z.mouseZoom||pe)&&(e.preventDefault(),H(),re=Date.now(),e.wheelDeltaY?(z(Z.hfov-.05*e.wheelDeltaY),ve.hfov=0>e.wheelDelta?1:-1):e.wheelDelta?(z(Z.hfov-.05*e.wheelDelta),ve.hfov=0>e.wheelDelta?1:-1):e.detail&&(z(Z.hfov+1.5*e.detail),ve.hfov=0<e.detail?1:-1),R())}function E(e){H(),re=Date.now(),Y(),Z.roll=0;var t=e.which||e.keycode;0>Z.capturedKeyNumbers.indexOf(t)||(e.preventDefault(),27==t?pe&&F():P(t,!0))}function M(){for(var e=0;10>e;e++)de[e]=!1}function C(e){var t=e.which||e.keycode;0>Z.capturedKeyNumbers.indexOf(t)||(e.preventDefault(),P(t,!1))}function P(e,t){var n=!1;switch(e){case 109:case 189:case 17:case 173:de[0]!=t&&(n=!0),de[0]=t;break;case 107:case 187:case 16:case 61:de[1]!=t&&(n=!0),de[1]=t;break;case 38:de[2]!=t&&(n=!0),de[2]=t;break;case 87:de[6]!=t&&(n=!0),de[6]=t;break;case 40:de[3]!=t&&(n=!0),de[3]=t;break;case 83:de[7]!=t&&(n=!0),de[7]=t;break;case 37:de[4]!=t&&(n=!0),de[4]=t;break;case 65:de[8]!=t&&(n=!0),de[8]=t;break;case 39:de[5]!=t&&(n=!0),de[5]=t;break;case 68:de[9]!=t&&(n=!0),de[9]=t}n&&t&&(ee="undefined"!==typeof performance&&performance.now()?performance.now():Date.now(),R())}function _(e){var t=xe[e],n=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0));n=t.startPosition+Z.animationTimingFunction(n)*(t.endPosition-t.startPosition);(t.endPosition>t.startPosition&&n>=t.endPosition||t.endPosition<t.startPosition&&n<=t.endPosition||t.endPosition===t.startPosition)&&(n=t.endPosition,ve[e]=0,delete xe[e]),Z[e]=n}function T(){N("resize")}function R(){ge||(ge=!0,L())}function L(){if(!_e)if(function(){var e;if(K){var t=V.getCanvas();!1!==Z.autoRotate&&(360<Z.yaw?Z.yaw-=360:-360>Z.yaw&&(Z.yaw+=360)),e=Z.yaw;var a=0;if(Z.avoidShowingBackground){var i=Z.hfov/2,o=180*Math.atan2(Math.tan(i/180*Math.PI),t.width/t.height)/Math.PI;Z.vaov>Z.haov?Math.min(Math.cos((Z.pitch-i)/180*Math.PI),Math.cos((Z.pitch+i)/180*Math.PI)):a=i*(1-Math.min(Math.cos((Z.pitch-o)/180*Math.PI),Math.cos((Z.pitch+o)/180*Math.PI)))}i=Z.maxYaw-Z.minYaw,o=-180;var r=180;360>i&&(o=Z.minYaw+Z.hfov/2+a,r=Z.maxYaw-Z.hfov/2-a,i<Z.hfov&&(o=r=(o+r)/2),Z.yaw=Math.max(o,Math.min(r,Z.yaw))),!1===Z.autoRotate&&(360<Z.yaw?Z.yaw-=360:-360>Z.yaw&&(Z.yaw+=360)),!1!==Z.autoRotate&&e!=Z.yaw&&ee!==n&&(Z.autoRotate*=-1),e=2*Math.atan(Math.tan(Z.hfov/180*Math.PI*.5)/(t.width/t.height))/Math.PI*180,t=Z.minPitch+e/2,a=Z.maxPitch-e/2,Z.maxPitch-Z.minPitch<e&&(t=a=(t+a)/2),isNaN(t)&&(t=-90),isNaN(a)&&(a=90),Z.pitch=Math.max(t,Math.min(a,Z.pitch)),V.render(Z.pitch*Math.PI/180,Z.yaw*Math.PI/180,Z.hfov*Math.PI/180,{roll:Z.roll*Math.PI/180}),Z.hotSpots.forEach(A),Z.compass&&(De.style.transform="rotate("+(-Z.yaw-Z.northOffset)+"deg)",De.style.webkitTransform="rotate("+(-Z.yaw-Z.northOffset)+"deg)")}}(),te&&clearTimeout(te),oe||!0===ye)requestAnimationFrame(L);else if(de[0]||de[1]||de[2]||de[3]||de[4]||de[5]||de[6]||de[7]||de[8]||de[9]||Z.autoRotate||xe.pitch||xe.yaw||xe.hfov||.01<Math.abs(ve.yaw)||.01<Math.abs(ve.pitch)||.01<Math.abs(ve.hfov))(function(){if(K){var e,t=!1,a=Z.pitch,i=Z.yaw,o=Z.hfov;e="undefined"!==typeof performance&&performance.now()?performance.now():Date.now(),ee===n&&(ee=e);var r=(e-ee)*Z.hfov/1700;r=Math.min(r,1);if(de[0]&&!0===Z.keyboardZoom&&(z(Z.hfov+(.8*ve.hfov+.5)*r),t=!0),de[1]&&!0===Z.keyboardZoom&&(z(Z.hfov+(.8*ve.hfov-.2)*r),t=!0),(de[2]||de[6])&&(Z.pitch+=(.8*ve.pitch+.2)*r,t=!0),(de[3]||de[7])&&(Z.pitch+=(.8*ve.pitch-.2)*r,t=!0),(de[4]||de[8])&&(Z.yaw+=(.8*ve.yaw-.2)*r,t=!0),(de[5]||de[9])&&(Z.yaw+=(.8*ve.yaw+.2)*r,t=!0),t&&(re=Date.now()),Z.autoRotate){if(.001<e-ee){t=(e-ee)/1e3;var s=(ve.yaw/t*r-.2*Z.autoRotate)*t;s=(0<-Z.autoRotate?1:-1)*Math.min(Math.abs(Z.autoRotate*t),Math.abs(s));Z.yaw+=s}Z.autoRotateStopDelay&&(Z.autoRotateStopDelay-=e-ee,0>=Z.autoRotateStopDelay&&(Z.autoRotateStopDelay=!1,we=Z.autoRotate,Z.autoRotate=0))}xe.pitch&&(_("pitch"),a=Z.pitch),xe.yaw&&(_("yaw"),i=Z.yaw),xe.hfov&&(_("hfov"),o=Z.hfov),0<r&&!Z.autoRotate&&(t=1-Z.friction,de[4]||de[5]||de[8]||de[9]||xe.yaw||(Z.yaw+=ve.yaw*r*t),de[2]||de[3]||de[6]||de[7]||xe.pitch||(Z.pitch+=ve.pitch*r*t),de[0]||de[1]||xe.hfov||z(Z.hfov+ve.hfov*r*t)),ee=e,0<r&&(ve.yaw=.8*ve.yaw+(Z.yaw-i)/r*.2,ve.pitch=.8*ve.pitch+(Z.pitch-a)/r*.2,ve.hfov=.8*ve.hfov+(Z.hfov-o)/r*.2,a=Z.autoRotate?Math.abs(Z.autoRotate):5,ve.yaw=Math.min(a,Math.max(ve.yaw,-a)),ve.pitch=Math.min(a,Math.max(ve.pitch,-a)),ve.hfov=Math.min(a,Math.max(ve.hfov,-a))),de[0]&&de[1]&&(ve.hfov=0),(de[2]||de[6])&&(de[3]||de[7])&&(ve.pitch=0),(de[4]||de[8])&&(de[5]||de[9])&&(ve.yaw=0)}})(),0<=Z.autoRotateInactivityDelay&&we&&Date.now()-re>Z.autoRotateInactivityDelay&&!Z.autoRotate&&(Z.autoRotate=we,ie.lookAt(ae,n,ne,3e3)),requestAnimationFrame(L);else if(V&&(V.isLoading()||!0===Z.dynamic&&Ce))requestAnimationFrame(L);else{$("animatefinished",{pitch:ie.getPitch(),yaw:ie.getYaw(),hfov:ie.getHfov()}),ge=!1,ee=n;var e=Z.autoRotateInactivityDelay-(Date.now()-re);0<e?te=setTimeout((function(){Z.autoRotate=we,ie.lookAt(ae,n,ne,3e3),R()}),e):0<=Z.autoRotateInactivityDelay&&we&&(Z.autoRotate=we,ie.lookAt(ae,n,ne,3e3),R())}}function I(e,t,n,a){this.w=e,this.x=t,this.y=n,this.z=a}function O(t){var n;n=t.alpha;var a=t.beta;t=t.gamma,a=[a?a*Math.PI/180/2:0,t?t*Math.PI/180/2:0,n?n*Math.PI/180/2:0],n=[Math.cos(a[0]),Math.cos(a[1]),Math.cos(a[2])],a=[Math.sin(a[0]),Math.sin(a[1]),Math.sin(a[2])],n=(n=new I(n[0]*n[1]*n[2]-a[0]*a[1]*a[2],a[0]*n[1]*n[2]-n[0]*a[1]*a[2],n[0]*a[1]*n[2]+a[0]*n[1]*a[2],n[0]*n[1]*a[2]+a[0]*a[1]*n[2])).multiply(new I(Math.sqrt(.5),-Math.sqrt(.5),0,0)),a=e.orientation?-e.orientation*Math.PI/180/2:0,n=n.multiply(new I(Math.cos(a),0,-Math.sin(a),0)).toEulerAngles(),"number"==typeof ye&&10>ye?ye+=1:10===ye?(be=n[2]/Math.PI*180+Z.yaw,ye=!0,requestAnimationFrame(L)):(Z.pitch=n[0]/Math.PI*180,Z.roll=-n[1]/Math.PI*180,Z.yaw=-n[2]/Math.PI*180+be)}function S(){if(Z.sceneFadeDuration&&V.fadeImg!==n){V.fadeImg.style.opacity=0;var e=V.fadeImg;delete V.fadeImg,setTimeout((function(){Le.removeChild(e),$("scenechangefadedone")}),Z.sceneFadeDuration)}De.style.display=Z.compass?"inline":"none",Pe||(Z.hotSpots?(Z.hotSpots=Z.hotSpots.sort((function(e,t){return e.pitch<t.pitch})),Z.hotSpots.forEach(k)):Z.hotSpots=[],Pe=!0,Z.hotSpots.forEach(A)),Se.load.box.style.display="none",J!==n&&(Le.removeChild(J),J=n),K=!0,$("load"),R()}function k(e){e.pitch=Number(e.pitch)||0,e.yaw=Number(e.yaw)||0;var n=t.createElement("div");n.className="pnlm-hotspot-base",n.className=e.cssClass?n.className+" "+e.cssClass:n.className+" pnlm-hotspot pnlm-sprite pnlm-"+X(e.type);var a,i=t.createElement("span");if(e.text&&(i.innerHTML=X(e.text)),e.video){a=t.createElement("video");var o=e.video;Z.basePath&&!r(o)&&(o=Z.basePath+o),a.src=W(o),a.controls=!0,a.style.width=e.width+"px",Le.appendChild(n),i.appendChild(a)}else if(e.image){o=e.image,Z.basePath&&!r(o)&&(o=Z.basePath+o),(a=t.createElement("a")).href=W(e.URL?e.URL:o,!0),a.target="_blank",i.appendChild(a);var s=t.createElement("img");s.src=W(o),s.style.width=e.width+"px",s.style.paddingTop="5px",Le.appendChild(n),a.appendChild(s),i.style.maxWidth="initial"}else if(e.URL){if((a=t.createElement("a")).href=W(e.URL,!0),e.attributes)for(o in e.attributes)a.setAttribute(o,e.attributes[o]);else a.target="_blank";Le.appendChild(a),n.className+=" pnlm-pointer",i.className+=" pnlm-pointer",a.appendChild(n)}else e.sceneId&&(n.onclick=n.ontouchend=function(){return n.clicked||(n.clicked=!0,j(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov)),!1},n.className+=" pnlm-pointer",i.className+=" pnlm-pointer"),Le.appendChild(n);e.createTooltipFunc?e.createTooltipFunc(n,e.createTooltipArgs):(e.text||e.video||e.image)&&(n.classList.add("pnlm-tooltip"),n.appendChild(i),i.style.width=i.scrollWidth-20+"px",i.style.marginLeft=-(i.scrollWidth-n.offsetWidth)/2+"px",i.style.marginTop=-i.scrollHeight-12+"px"),e.clickHandlerFunc&&(n.addEventListener("click",(function(t){e.clickHandlerFunc(t,e.clickHandlerArgs)}),"false"),n.className+=" pnlm-pointer",i.className+=" pnlm-pointer"),e.div=n}function A(e){var t=Math.sin(e.pitch*Math.PI/180),n=Math.cos(e.pitch*Math.PI/180),a=Math.sin(Z.pitch*Math.PI/180),i=Math.cos(Z.pitch*Math.PI/180),o=Math.cos((-e.yaw+Z.yaw)*Math.PI/180),r=t*a+n*o*i;if(90>=e.yaw&&-90<e.yaw&&0>=r||(90<e.yaw||-90>=e.yaw)&&0>=r)e.div.style.visibility="hidden";else{var s=Math.sin((-e.yaw+Z.yaw)*Math.PI/180),l=Math.tan(Z.hfov*Math.PI/360);e.div.style.visibility="visible";var c=(h=V.getCanvas()).clientWidth,h=h.clientHeight;t=[-c/l*s*n/r/2,-c/l*(t*i-n*o*a)/r/2],n=Math.sin(Z.roll*Math.PI/180),a=Math.cos(Z.roll*Math.PI/180);(t=[t[0]*a-t[1]*n,t[0]*n+t[1]*a])[0]+=(c-e.div.offsetWidth)/2,t[1]+=(h-e.div.offsetHeight)/2,c="translate("+t[0]+"px, "+t[1]+"px) translateZ(9999px) rotate("+Z.roll+"deg)",e.scale&&(c+=" scale("+ne/Z.hfov/r+")"),e.div.style.webkitTransform=c,e.div.style.MozTransform=c,e.div.style.transform=c}}function B(e){Z={};var t,n,a="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");for(t in Me=[],Te)Te.hasOwnProperty(t)&&(Z[t]=Te[t]);for(t in i.default)if(i.default.hasOwnProperty(t))if("strings"==t)for(n in i.default.strings)i.default.strings.hasOwnProperty(n)&&(Z.strings[n]=X(i.default.strings[n]));else Z[t]=i.default[t],0<=a.indexOf(t)&&Me.push(t);if(null!==e&&""!==e&&i.scenes&&i.scenes[e]){var o=i.scenes[e];for(t in o)if(o.hasOwnProperty(t))if("strings"==t)for(n in o.strings)o.strings.hasOwnProperty(n)&&(Z.strings[n]=X(o.strings[n]));else Z[t]=o[t],0<=a.indexOf(t)&&Me.push(t);Z.scene=e}for(t in i)if(i.hasOwnProperty(t))if("strings"==t)for(n in i.strings)i.strings.hasOwnProperty(n)&&(Z.strings[n]=X(i.strings[n]));else Z[t]=i[t],0<=a.indexOf(t)&&Me.push(t)}function D(e){if((e=e||!1)&&"preview"in Z){var a=Z.preview;Z.basePath&&!r(a)&&(a=Z.basePath+a),(J=t.createElement("div")).className="pnlm-preview-img",J.style.backgroundImage="url('"+W(a).replace(/"/g,"%22").replace(/'/g,"%27")+"')",Le.appendChild(J)}a=Z.title;var i=Z.author;for(var s in e&&("previewTitle"in Z&&(Z.title=Z.previewTitle),"previewAuthor"in Z&&(Z.author=Z.previewAuthor)),Z.hasOwnProperty("title")||(Se.title.innerHTML=""),Z.hasOwnProperty("author")||(Se.author.innerHTML=""),Z.hasOwnProperty("title")||Z.hasOwnProperty("author")||(Se.container.style.display="none"),Ae.load.innerHTML="<p>"+Z.strings.loadButtonLabel+"</p>",Se.load.boxp.innerHTML=Z.strings.loadingLabel,Z)if(Z.hasOwnProperty(s))switch(s){case"title":Se.title.innerHTML=X(Z[s]),Se.container.style.display="inline";break;case"author":var l=X(Z[s]);Z.authorURL&&((l=t.createElement("a")).href=W(Z.authorURL,!0),l.target="_blank",l.innerHTML=X(Z[s]),l=l.outerHTML),Se.author.innerHTML=Z.strings.bylineLabel.replace("%s",l),Se.container.style.display="inline";break;case"fallback":(l=t.createElement("a")).href=W(Z[s],!0),l.target="_blank",l.textContent="Click here to view this panorama in an alternative viewer.";var c=t.createElement("p");c.textContent="Your browser does not support WebGL.",c.appendChild(t.createElement("br")),c.appendChild(l),Se.errorMsg.innerHTML="",Se.errorMsg.appendChild(c);break;case"hfov":z(Number(Z[s]));break;case"autoLoad":!0===Z[s]&&V===n&&(Se.load.box.style.display="inline",Ae.load.style.display="none",o());break;case"showZoomCtrl":Ae.zoom.style.display=Z[s]&&0!=Z.showControls?"block":"none";break;case"showFullscreenCtrl":Ae.fullscreen.style.display=Z[s]&&0!=Z.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":ke.style.display=Z[s]?"block":"none";break;case"showControls":Z[s]||(Ae.orientation.style.display="none",Ae.zoom.style.display="none",Ae.fullscreen.style.display="none");break;case"orientationOnByDefault":Z[s]&&q()}e&&(a?Z.title=a:delete Z.title,i?Z.author=i:delete Z.author)}function F(){if(K&&!fe)if(pe)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.webkitRequestFullScreen()}catch(w){}}function N(e){t.fullscreenElement||t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(Ae.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),pe=!0):(Ae.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),pe=!1),"resize"!==e&&$("fullscreenchange",pe),V.resize(),z(Z.hfov),R()}function U(e){var t=Z.minHfov;if("multires"==Z.type&&V&&!Z.multiResMinHfov&&(t=Math.min(t,V.getCanvas().width/(Z.multiRes.cubeResolution/90*.9))),t>Z.maxHfov)return console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),Z.hfov;var n=Z.hfov;n=e<t?t:e>Z.maxHfov?Z.maxHfov:e;return Z.avoidShowingBackground&&V&&(e=V.getCanvas(),n=Math.min(n,360*Math.atan(Math.tan((Z.maxPitch-Z.minPitch)/360*Math.PI)/e.height*e.width)/Math.PI)),n}function z(e){Z.hfov=U(e),$("zoomchange",Z.hfov)}function H(){xe={},we=Z.autoRotate?Z.autoRotate:we,Z.autoRotate=!1}function G(){fe&&(Se.load.box.style.display="none",Se.errorMsg.style.display="none",fe=!1,Le.style.display="block",$("errorcleared")),K=!1,Ae.load.style.display="none",Se.load.box.style.display="inline",o()}function j(e,t,a,o,r){var s,l;if(K||(r=!0),K=!1,xe={},Z.sceneFadeDuration&&!r&&(s=V.render(Z.pitch*Math.PI/180,Z.yaw*Math.PI/180,Z.hfov*Math.PI/180,{returnImage:!0}))!==n)return(r=new Image).className="pnlm-fade-img",r.style.transition="opacity "+Z.sceneFadeDuration/1e3+"s",r.style.width="100%",r.style.height="100%",r.onload=function(){j(e,t,a,o,!0)},r.src=s,Le.appendChild(r),void(V.fadeImg=r);r="same"===t?Z.pitch:t,s="same"===a?Z.yaw:"sameAzimuth"===a?Z.yaw+(Z.northOffset||0)-(i.scenes[e].northOffset||0):a,l="same"===o?Z.hfov:o,function(){var e=Z.hotSpots;if(Pe=!1,delete Z.hotSpots,e)for(var t=0;t<e.length;t++){var n=e[t].div;if(n){for(;n.parentNode&&n.parentNode!=Le;)n=n.parentNode;Le.removeChild(n)}delete e[t].div}}(),B(e),ve.yaw=ve.pitch=ve.hfov=0,D(),r!==n&&(Z.pitch=r),s!==n&&(Z.yaw=s),l!==n&&(Z.hfov=l),$("scenechange",e),G()}function Y(){e.removeEventListener("deviceorientation",O),Ae.orientation.classList.remove("pnlm-orientation-button-active"),ye=!1}function q(){"function"===typeof DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(t){"granted"==t&&(ye=1,e.addEventListener("deviceorientation",O),Ae.orientation.classList.add("pnlm-orientation-button-active"))})):(ye=1,e.addEventListener("deviceorientation",O),Ae.orientation.classList.add("pnlm-orientation-button-active"))}function X(e){return i.escapeHTML?String(e).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(e).split("\n").join("<br>")}function W(e,t){try{var n=decodeURIComponent(function(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(N){return"about:blank"}return 0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")?(console.log("Script URL removed."),"about:blank"):t&&0===n.indexOf("data:")?(console.log("Data URI removed from link."),"about:blank"):e}function $(e){if(e in Ee)for(var t=Ee[e].length;0<t;t--)Ee[e][Ee[e].length-t].apply(null,[].slice.call(arguments,1))}var Z,V,J,K,Q,ee,te,ne,ae,ie=this,oe=!1,re=Date.now(),se=0,le=0,ce=-1,he=0,ue=0,de=Array(10),pe=!1,fe=!1,me=!1,ve={yaw:0,pitch:0,hfov:0},ge=!1,ye=!1,be=0,we=0,xe={},Ee={},Me=[],Ce=!1,Pe=!1,_e=!1,Te={hfov:100,minHfov:50,multiResMinHfov:!1,maxHfov:120,pitch:0,minPitch:n,maxPitch:n,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:n,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,dynamicUpdate:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],avoidShowingBackground:!1,animationTimingFunction:function(e){return.5>e?2*e*e:(4-2*e)*e-1},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",touchPanSpeedCoeffFactor:1,capturedKeyNumbers:[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189],friction:.15,strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}};(a="string"===typeof a?t.getElementById(a):a).classList.add("pnlm-container"),a.tabIndex=0;var Re=t.createElement("div");Re.className="pnlm-ui",a.appendChild(Re);var Le=t.createElement("div");Le.className="pnlm-render-container",a.appendChild(Le);var Ie=t.createElement("div");Ie.className="pnlm-dragfix",Re.appendChild(Ie);var Oe=t.createElement("span");Oe.className="pnlm-about-msg",Oe.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.5.6',Re.appendChild(Oe),Ie.addEventListener("contextmenu",(function e(t){var n=c(t);Oe.style.left=n.x+"px",Oe.style.top=n.y+"px",clearTimeout(e.t1),clearTimeout(e.t2),Oe.style.display="block",Oe.style.opacity=1,e.t1=setTimeout((function(){Oe.style.opacity=0}),2e3),e.t2=setTimeout((function(){Oe.style.display="none"}),2500),t.preventDefault()}));var Se={},ke=t.createElement("div");ke.className="pnlm-sprite pnlm-hot-spot-debug-indicator",Re.appendChild(ke),Se.container=t.createElement("div"),Se.container.className="pnlm-panorama-info",Se.title=t.createElement("div"),Se.title.className="pnlm-title-box",Se.container.appendChild(Se.title),Se.author=t.createElement("div"),Se.author.className="pnlm-author-box",Se.container.appendChild(Se.author),Re.appendChild(Se.container),Se.load={},Se.load.box=t.createElement("div"),Se.load.box.className="pnlm-load-box",Se.load.boxp=t.createElement("p"),Se.load.box.appendChild(Se.load.boxp),Se.load.lbox=t.createElement("div"),Se.load.lbox.className="pnlm-lbox",Se.load.lbox.innerHTML='<div class="pnlm-loading"></div>',Se.load.box.appendChild(Se.load.lbox),Se.load.lbar=t.createElement("div"),Se.load.lbar.className="pnlm-lbar",Se.load.lbarFill=t.createElement("div"),Se.load.lbarFill.className="pnlm-lbar-fill",Se.load.lbar.appendChild(Se.load.lbarFill),Se.load.box.appendChild(Se.load.lbar),Se.load.msg=t.createElement("p"),Se.load.msg.className="pnlm-lmsg",Se.load.box.appendChild(Se.load.msg),Re.appendChild(Se.load.box),Se.errorMsg=t.createElement("div"),Se.errorMsg.className="pnlm-error-msg pnlm-info-box",Re.appendChild(Se.errorMsg);var Ae={};Ae.container=t.createElement("div"),Ae.container.className="pnlm-controls-container",Re.appendChild(Ae.container),Ae.load=t.createElement("div"),Ae.load.className="pnlm-load-button",Ae.load.addEventListener("click",(function(){D(),G()})),Re.appendChild(Ae.load),Ae.zoom=t.createElement("div"),Ae.zoom.className="pnlm-zoom-controls pnlm-controls",Ae.zoomIn=t.createElement("div"),Ae.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",Ae.zoomIn.addEventListener("click",(function(){K&&(z(Z.hfov-5),R())})),Ae.zoom.appendChild(Ae.zoomIn),Ae.zoomOut=t.createElement("div"),Ae.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",Ae.zoomOut.addEventListener("click",(function(){K&&(z(Z.hfov+5),R())})),Ae.zoom.appendChild(Ae.zoomOut),Ae.container.appendChild(Ae.zoom),Ae.fullscreen=t.createElement("div"),Ae.fullscreen.addEventListener("click",F),Ae.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&Ae.container.appendChild(Ae.fullscreen),Ae.orientation=t.createElement("div"),Ae.orientation.addEventListener("click",(function(e){ye?Y():q()})),Ae.orientation.addEventListener("mousedown",(function(e){e.stopPropagation()})),Ae.orientation.addEventListener("touchstart",(function(e){e.stopPropagation()})),Ae.orientation.addEventListener("pointerdown",(function(e){e.stopPropagation()})),Ae.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var Be=!1;e.DeviceOrientationEvent&&"https:"==location.protocol&&0<=navigator.userAgent.toLowerCase().indexOf("mobi")&&(Ae.container.appendChild(Ae.orientation),Be=!0);var De=t.createElement("div");De.className="pnlm-compass pnlm-controls pnlm-control",Re.appendChild(De),i.firstScene?B(i.firstScene):i.default&&i.default.firstScene?B(i.default.firstScene):B(null),D(!0);var Fe=[],Ne=[];I.prototype.multiply=function(e){return new I(this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z,this.x*e.w+this.w*e.x+this.y*e.z-this.z*e.y,this.y*e.w+this.w*e.y+this.z*e.x-this.x*e.z,this.z*e.w+this.w*e.z+this.x*e.y-this.y*e.x)},I.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.isLoaded=function(){return Boolean(K)},this.getPitch=function(){return Z.pitch},this.setPitch=function(e,t,a,i){return re=Date.now(),1e-6>=Math.abs(e-Z.pitch)?("function"==typeof a&&a(i),this):((t=t==n?1e3:Number(t))?(xe.pitch={startTime:Date.now(),startPosition:Z.pitch,endPosition:e,duration:t},"function"==typeof a&&setTimeout((function(){a(i)}),t)):Z.pitch=e,R(),this)},this.getPitchBounds=function(){return[Z.minPitch,Z.maxPitch]},this.setPitchBounds=function(e){return Z.minPitch=Math.max(-90,Math.min(e[0],90)),Z.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return(Z.yaw+540)%360-180},this.setYaw=function(e,t,a,i){return re=Date.now(),1e-6>=Math.abs(e-Z.yaw)?("function"==typeof a&&a(i),this):(e=(e+180)%360-180,(t=t==n?1e3:Number(t))?(180<Z.yaw-e?e+=360:180<e-Z.yaw&&(e-=360),xe.yaw={startTime:Date.now(),startPosition:Z.yaw,endPosition:e,duration:t},"function"==typeof a&&setTimeout((function(){a(i)}),t)):Z.yaw=e,R(),this)},this.getYawBounds=function(){return[Z.minYaw,Z.maxYaw]},this.setYawBounds=function(e){return Z.minYaw=Math.max(-360,Math.min(e[0],360)),Z.maxYaw=Math.max(-360,Math.min(e[1],360)),this},this.getHfov=function(){return Z.hfov},this.setHfov=function(e,t,a,i){return re=Date.now(),1e-6>=Math.abs(e-Z.hfov)?("function"==typeof a&&a(i),this):((t=t==n?1e3:Number(t))?(xe.hfov={startTime:Date.now(),startPosition:Z.hfov,endPosition:U(e),duration:t},"function"==typeof a&&setTimeout((function(){a(i)}),t)):z(e),R(),this)},this.getHfovBounds=function(){return[Z.minHfov,Z.maxHfov]},this.setHfovBounds=function(e){return Z.minHfov=Math.max(0,e[0]),Z.maxHfov=Math.max(0,e[1]),this},this.lookAt=function(e,t,a,i,o,r){return i=i==n?1e3:Number(i),e!==n&&1e-6<Math.abs(e-Z.pitch)&&(this.setPitch(e,i,o,r),o=n),t!==n&&1e-6<Math.abs(t-Z.yaw)&&(this.setYaw(t,i,o,r),o=n),a!==n&&1e-6<Math.abs(a-Z.hfov)&&(this.setHfov(a,i,o,r),o=n),"function"==typeof o&&o(r),this},this.getNorthOffset=function(){return Z.northOffset},this.setNorthOffset=function(e){return Z.northOffset=Math.min(360,Math.max(0,e)),R(),this},this.getHorizonRoll=function(){return Z.horizonRoll},this.setHorizonRoll=function(e){return Z.horizonRoll=Math.min(90,Math.max(-90,e)),V.setPose(Z.horizonPitch*Math.PI/180,Z.horizonRoll*Math.PI/180),R(),this},this.getHorizonPitch=function(){return Z.horizonPitch},this.setHorizonPitch=function(e){return Z.horizonPitch=Math.min(90,Math.max(-90,e)),V.setPose(Z.horizonPitch*Math.PI/180,Z.horizonRoll*Math.PI/180),R(),this},this.startAutoRotate=function(e,t){return e=e||we||1,t=t===n?ae:t,Z.autoRotate=e,ie.lookAt(t,n,ne,3e3),R(),this},this.stopAutoRotate=function(){return we=Z.autoRotate?Z.autoRotate:we,Z.autoRotate=!1,Z.autoRotateInactivityDelay=-1,this},this.stopMovement=function(){H(),ve={yaw:0,pitch:0,hfov:0}},this.getRenderer=function(){return V},this.setUpdate=function(e){return Ce=!0===e,V===n?s():R(),this},this.mouseEventToCoords=function(e){return d(e)},this.loadScene=function(e,t,n,a){return!1!==K&&j(e,t,n,a),this},this.getScene=function(){return Z.scene},this.addScene=function(e,t){return i.scenes[e]=t,this},this.removeScene=function(e){return!(Z.scene===e||!i.scenes.hasOwnProperty(e))&&(delete i.scenes[e],!0)},this.toggleFullscreen=function(){return F(),this},this.getConfig=function(){return Z},this.getContainer=function(){return a},this.addHotSpot=function(e,t){if(t===n&&Z.scene===n)Z.hotSpots.push(e);else{var a=t!==n?t:Z.scene;if(!i.scenes.hasOwnProperty(a))throw"Invalid scene ID!";i.scenes[a].hasOwnProperty("hotSpots")||(i.scenes[a].hotSpots=[],a==Z.scene&&(Z.hotSpots=i.scenes[a].hotSpots)),i.scenes[a].hotSpots.push(e)}return t!==n&&Z.scene!=t||(k(e),K&&A(e)),this},this.removeHotSpot=function(e,t){if(t===n||Z.scene==t){if(!Z.hotSpots)return!1;for(var a=0;a<Z.hotSpots.length;a++)if(Z.hotSpots[a].hasOwnProperty("id")&&Z.hotSpots[a].id===e){for(var o=Z.hotSpots[a].div;o.parentNode!=Le;)o=o.parentNode;return Le.removeChild(o),delete Z.hotSpots[a].div,Z.hotSpots.splice(a,1),!0}}else{if(!i.scenes.hasOwnProperty(t))return!1;if(!i.scenes[t].hasOwnProperty("hotSpots"))return!1;for(a=0;a<i.scenes[t].hotSpots.length;a++)if(i.scenes[t].hotSpots[a].hasOwnProperty("id")&&i.scenes[t].hotSpots[a].id===e)return i.scenes[t].hotSpots.splice(a,1),!0}},this.resize=function(){V&&T()},this.isLoaded=function(){return K},this.isOrientationSupported=function(){return Be||!1},this.stopOrientation=function(){Y()},this.startOrientation=function(){Be&&q()},this.isOrientationActive=function(){return Boolean(ye)},this.on=function(e,t){return Ee[e]=Ee[e]||[],Ee[e].push(t),this},this.off=function(e,t){if(!e)return Ee={},this;if(t){var n=Ee[e].indexOf(t);0<=n&&Ee[e].splice(n,1),0==Ee[e].length&&delete Ee[e]}else delete Ee[e];return this},this.destroy=function(){_e=!0,clearTimeout(te),V&&V.destroy(),me&&(t.removeEventListener("mousemove",p,!1),t.removeEventListener("mouseup",f,!1),a.removeEventListener("mozfullscreenchange",N,!1),a.removeEventListener("webkitfullscreenchange",N,!1),a.removeEventListener("msfullscreenchange",N,!1),a.removeEventListener("fullscreenchange",N,!1),e.removeEventListener("resize",T,!1),e.removeEventListener("orientationchange",T,!1),a.removeEventListener("keydown",E,!1),a.removeEventListener("keyup",C,!1),a.removeEventListener("blur",M,!1),t.removeEventListener("mouseleave",f,!1)),a.innerHTML="",a.classList.remove("pnlm-container")}}return{viewer:function(e,t){return new a(e,t)}}}(window,document)},5:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6:function(e,t,n){var a=n(13),i=n(5);e.exports=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),a(e,t,{leading:o,maxWait:t,trailing:r})}},7:function(e,t,n){var a=n(15),i="object"==typeof self&&self&&self.Object===Object&&self,o=a||i||Function("return this")();e.exports=o},8:function(e,t,n){var a=n(7).Symbol;e.exports=a}},[[487,364,0,1]]]);
//# sourceMappingURL=hotels-generic_detail-c836db353eb2f55625ca.chunk.js.map